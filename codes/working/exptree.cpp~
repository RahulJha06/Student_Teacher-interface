#include<iostream>
#include<stack>
#include<string>
using namespace std;
class tree;
class treenode
{
 friend class tree;
 string data;
 treenode *left;
 treenode *right;
};

class tree
{  
 stack<treenode*> s;
 stack<treenode*> s1;
 public:
 treenode *root;
 tree(){root=NULL;}
 void push(char c)
 {
  treenode *n = new treenode;
  n->data=c;
  n->left=NULL;n->right=NULL;
  s.push(n); 
 }
 void pop(char c)
 { treenode *temp;
 
  treenode *n=new treenode;
  n->data=c;
 if(!s.empty()) 
  {
   temp=s.top();
   s.pop();
  }
  n->right=temp;
  if(!s.empty()) 
  {
  n->left=s.top();
  s.pop();
  }
 s.push(n);
 root=s.top();
 }
 void print()
 {
  treenode *temp=s.top();
 cout<<temp->data;
 }
 void in_traversal(treenode *temp)
 {   
  if(temp!=NULL) 
    {
	in_traversal(temp->left);
	cout<<temp->data;
	in_traversal(temp->right);
	    
    }
  return;
 }
 void post(treenode *temp)
  {
   if(temp!=NULL)
    {
     post(temp->left);
     post(temp->right);
     cout<<temp->data;
    }
   return; 
  }
  void pre(treenode *temp)
  {
   if(temp!=NULL)
    {
     cout<<temp->data;
     pre(temp->left);
     pre(temp->right);
    }
   return;  
  }
 

};

int main()
{
 string s1;
 tree t1;
 getline(cin,s1);
 int i=0;
 while(s1[i]!='\0')
  switch(s1[i])
  { case '+':
    case '-':
    case '*':
    case '/':t1.pop(s1[i]);i++;break;
    case ' ':break;
    default:t1.push(s1[i]);i++;break;
  } 
  t1.in_traversal(t1.root);
  cout<<endl;
  t1.post(t1.root);cout<<endl;
  t1.pre(t1.root);
return 0;
}
